setwd("~/Desktop/tesis_jp")
#' ENIGH 2010:
#'=====================================
library(ProjectTemplate)
load.project()
#' ENIGH 2010:
#'=====================================
library(ProjectTemplate)
load.project()
#' Datos
#' Fuente: Enigh 2010
# library(ProjectTemplate)
# reload.project()
library(arm)
## Preparar concentrado
Hogares$ENT <- as.numeric(substr(as.character(Hogares$UBICA_GEO),1,2))
Hogares$MUN <- as.numeric(substr(as.character(Hogares$UBICA_GEO),3,5))
localidades.codigo <- data.frame(
TAM_LOC =c(1,2,3,4),
tamaño_localidad=c('100 mil o más', 'De 15 mil a 100 mil', 'De 2500 a 15 mil',
'Menos de 2500'))
marginacion.codigo <- data.frame(
CONAPO = 1:5,
marginación = c('Muy alto', 'Alto', 'Medio', 'Bajo', 'Muy bajo'))
entidad.codigo <- unique(tab.mun.completa[, c('ENTIDAD', 'NOM_ENT')])
entidad.codigo$ENT <- entidad.codigo$ENTIDAD
concen.1 <- join(Concen, Hogares, by =c('FOLIOVIV', 'FOLIOHOG'))
concen.1 <- join(concen.1, localidades.codigo)
concen.1 <- join(concen.1, marginacion.codigo)
nrow(concen.1)
concen.1 <- join(concen.1, entidad.codigo)
nrow(concen.1)
concen.1$marginación <- factor(concen.1$marginación,
levels=c('Muy bajo', 'Bajo', 'Medio', 'Alto', 'Muy alto'), ordered = TRUE)
concen.1 <- arrange(concen.1, INGTOT)
concen.1$percentil <- cumsum(concen.1$FACTOR)/sum(concen.1$FACTOR)
concen.1$decil <- cut(concen.1$percentil, breaks=seq(0,1,0.1),
labels=1:10)
concen.1$log.ingreso <- log(1+concen.1$INGTOT)
concen.1$log.comunica <- log(1+concen.1$COMUNICA)
concen.1$log.prop <- concen.1$log.comunica - concen.1$log.ingreso
concen.1$conapo.f <- factor(concen.1$CONAPO)
concen.1$tam_loc.f <- factor(concen.1$TAM_LOC)
## preparar tabla municipios
concen.2 <- join(concen.1, tab.mun.completa, by=c('ENTIDAD', 'MUN'))
#' ENIGH 2010:
#'=====================================
library(ProjectTemplate)
load.project()
#' Datos
#' Fuente: Enigh 2010
# library(ProjectTemplate)
# reload.project()
library(arm)
## Preparar concentrado
Hogares$ENT <- as.numeric(substr(as.character(Hogares$UBICA_GEO),1,2))
Hogares$MUN <- as.numeric(substr(as.character(Hogares$UBICA_GEO),3,5))
localidades.codigo <- data.frame(
TAM_LOC =c(1,2,3,4),
tamaño_localidad=c('100 mil o más', 'De 15 mil a 100 mil', 'De 2500 a 15 mil',
'Menos de 2500'))
marginacion.codigo <- data.frame(
CONAPO = 1:5,
marginación = c('Muy alto', 'Alto', 'Medio', 'Bajo', 'Muy bajo'))
entidad.codigo <- unique(tab.mun.completa[, c('ENTIDAD', 'NOM_ENT')])
entidad.codigo$ENT <- entidad.codigo$ENTIDAD
concen.1 <- join(Concen, Hogares, by =c('FOLIOVIV', 'FOLIOHOG'))
concen.1 <- join(concen.1, localidades.codigo)
concen.1 <- join(concen.1, marginacion.codigo)
nrow(concen.1)
concen.1 <- join(concen.1, entidad.codigo)
nrow(concen.1)
concen.1$marginación <- factor(concen.1$marginación,
levels=c('Muy bajo', 'Bajo', 'Medio', 'Alto', 'Muy alto'), ordered = TRUE)
concen.1 <- arrange(concen.1, INGTOT)
concen.1$percentil <- cumsum(concen.1$FACTOR)/sum(concen.1$FACTOR)
concen.1$decil <- cut(concen.1$percentil, breaks=seq(0,1,0.1),
labels=1:10)
concen.1$log.ingreso <- log(1+concen.1$INGTOT)
concen.1$log.comunica <- log(1+concen.1$COMUNICA)
concen.1$log.prop <- concen.1$log.comunica - concen.1$log.ingreso
concen.1$conapo.f <- factor(concen.1$CONAPO)
concen.1$tam_loc.f <- factor(concen.1$TAM_LOC)
## preparar tabla municipios
concen.2 <- join(concen.1, tab.mun.completa, by=c('ENTIDAD', 'MUN'))
#' ENIGH 2010:
#'=====================================
library(ProjectTemplate)
load.project()
#' Datos
#' Fuente: Enigh 2010
# library(ProjectTemplate)
# reload.project()
library(arm)
## Preparar concentrado
Hogares$ENT <- as.numeric(substr(as.character(Hogares$UBICA_GEO),1,2))
Hogares$MUN <- as.numeric(substr(as.character(Hogares$UBICA_GEO),3,5))
localidades.codigo <- data.frame(
TAM_LOC =c(1,2,3,4),
tamaño_localidad=c('100 mil o más', 'De 15 mil a 100 mil', 'De 2500 a 15 mil',
'Menos de 2500'))
marginacion.codigo <- data.frame(
CONAPO = 1:5,
marginación = c('Muy alto', 'Alto', 'Medio', 'Bajo', 'Muy bajo'))
entidad.codigo <- unique(tab.mun.completa[, c('ENTIDAD', 'NOM_ENT')])
entidad.codigo$ENT <- entidad.codigo$ENTIDAD
concen.1 <- join(Concen, Hogares, by =c('FOLIOVIV', 'FOLIOHOG'))
concen.1 <- join(concen.1, localidades.codigo)
concen.1 <- join(concen.1, marginacion.codigo)
nrow(concen.1)
concen.1 <- join(concen.1, entidad.codigo)
nrow(concen.1)
concen.1$marginación <- factor(concen.1$marginación,
levels=c('Muy bajo', 'Bajo', 'Medio', 'Alto', 'Muy alto'), ordered = TRUE)
concen.1 <- arrange(concen.1, INGTOT)
concen.1$percentil <- cumsum(concen.1$FACTOR)/sum(concen.1$FACTOR)
concen.1$decil <- cut(concen.1$percentil, breaks=seq(0,1,0.1),
labels=1:10)
concen.1$log.ingreso <- log(1+concen.1$INGTOT)
concen.1$log.comunica <- log(1+concen.1$COMUNICA)
concen.1$log.prop <- concen.1$log.comunica - concen.1$log.ingreso
concen.1$conapo.f <- factor(concen.1$CONAPO)
concen.1$tam_loc.f <- factor(concen.1$TAM_LOC)
## preparar tabla municipios
concen.2 <- join(concen.1, tab.mun.completa, by=c('ENTIDAD', 'MUN'))
setwd("~/Dropbox/repos_petri/shiny-server")
library(shiny)
runApp()
runApp()
runApp()
runApp()
runApp()
##------ Wed Mar  5 23:13:57 2014 ------##
runApp()
##------ Thu Mar  6 00:07:17 2014 ------##
install.packages("xtable")
runApp()
runApp()
setwd("~/Dropbox/repos_petri/shiny-server")
runApp()
library(shiny)
runApp()
##------ Thu Mar  6 00:08:21 2014 ------##
##------ Thu Mar  6 00:13:12 2014 ------##
runApp()
##------ Thu Mar  6 00:13:57 2014 ------##
setwd("~/Dropbox/repos_petri/shiny-server")
